[gd_scene load_steps=10 format=3 uid="uid://dl6ccnf5ec1qq"]

[ext_resource type="Script" path="res://main/npc/npc.gd" id="1_hyvfc"]
[ext_resource type="PackedScene" uid="uid://dcqh0x5sbp7oq" path="res://main/npc/npc_interact/npc_interact.tscn" id="2_sti3o"]
[ext_resource type="PackedScene" uid="uid://ci42qmw5oetrf" path="res://main/npc/components/npc_movement/npc_movement.tscn" id="3_kafhi"]
[ext_resource type="PackedScene" uid="uid://dw3mahy186qy2" path="res://main/npc/components/npc_kicked/npc_kicked.tscn" id="4_bw3vn"]

[sub_resource type="BoxMesh" id="BoxMesh_kw8wg"]
size = Vector3(1, 2, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5yho2"]
albedo_color = Color(0.784314, 1, 0.392157, 1)

[sub_resource type="BoxMesh" id="BoxMesh_pfeea"]
size = Vector3(0.75, 0.25, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6to1v"]
albedo_color = Color(0.196078, 0.196078, 0.196078, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_5wxcb"]
size = Vector3(1, 2, 1)

[node name="NPC" type="CharacterBody3D" node_paths=PackedStringArray("npc_movement", "npc_kicked")]
collision_layer = 20
collision_mask = 3
script = ExtResource("1_hyvfc")
instruction = "I (the user) am a aspiring deva working under Yamaraj (the God of Death).

You (AI) are gonna be a human who has come to the realm of Yama after his/her death.

My (the user) job is to assess you on your life by asking questions. In the end, I will judge whether you go to Heaven or you go to Hell.

You (AI) give responses in less than or equal to 100 words.

You (AI) only give conversation's response (nothing else)."
details_format = "Here is your character details -

Name: %s
Age: %s
Background Story: %s
Truthfulness: %s
Friendliness: %s
Talkative: %s"
interact_scene = ExtResource("2_sti3o")
npc_movement = NodePath("Components/NPC Movement")
npc_kicked = NodePath("Components/NPC Kicked")

[node name="Body" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
cast_shadow = 0
mesh = SubResource("BoxMesh_kw8wg")
surface_material_override/0 = SubResource("StandardMaterial3D_5yho2")

[node name="Eyes" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -0.25)
cast_shadow = 0
mesh = SubResource("BoxMesh_pfeea")
surface_material_override/0 = SubResource("StandardMaterial3D_6to1v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_5wxcb")

[node name="Components" type="Node" parent="."]

[node name="NPC Movement" parent="Components" node_paths=PackedStringArray("npc") instance=ExtResource("3_kafhi")]
npc = NodePath("../..")

[node name="NPC Kicked" parent="Components" node_paths=PackedStringArray("npc") instance=ExtResource("4_bw3vn")]
npc = NodePath("../..")
